# OpenStock Docker Home Network Deployment Configuration
# Copy this file to .env and update with your actual values

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV=production

# ============================================
# APPLICATION URLs
# ============================================
# IMPORTANT: Set this to your home network IP and port
# Example: http://192.168.1.100:3000
# Find your IP: ipconfig (Windows) or ifconfig (Mac/Linux)
NEXT_PUBLIC_APP_URL=http://YOUR_LOCAL_IP:3000

# ============================================
# DATABASE (MongoDB)
# ============================================
# For docker-compose deployment, use this exact value:
MONGODB_URI=mongodb://root:example@mongodb:27017/openstock?authSource=admin

# SECURITY NOTE: Change MongoDB credentials in docker-compose.yml for production:
# - Update MONGO_INITDB_ROOT_USERNAME
# - Update MONGO_INITDB_ROOT_PASSWORD
# - Update MONGODB_URI accordingly

# ============================================
# AUTHENTICATION (Better Auth)
# ============================================
# Generate a secure secret: openssl rand -base64 32
BETTER_AUTH_SECRET=your_random_secret_here_use_openssl_to_generate

# Should match NEXT_PUBLIC_APP_URL
BETTER_AUTH_URL=http://YOUR_LOCAL_IP:3000

# ============================================
# FINNHUB API (Stock Market Data)
# ============================================
# Get your free API key: https://finnhub.io/register
NEXT_PUBLIC_FINNHUB_API_KEY=your_finnhub_api_key_here
FINNHUB_BASE_URL=https://finnhub.io/api/v1

# ============================================
# GOOGLE GEMINI AI (Email Personalization)
# ============================================
# Get your API key: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# EMAIL (Gmail via Nodemailer)
# ============================================
# Your Gmail address
NODEMAILER_EMAIL=your_email@gmail.com

# Gmail App Password (required if 2FA is enabled)
# Create one at: https://myaccount.google.com/apppasswords
# If 2FA is not enabled, use your regular Gmail password
NODEMAILER_PASSWORD=your_gmail_app_password_here

# ============================================
# INNGEST (Background Jobs - OPTIONAL)
# ============================================
# Only needed for Vercel deployment
# For local Docker, run: npx inngest-cli@latest dev
# INNGEST_SIGNING_KEY=your_inngest_signing_key_here

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================
# 1. Find your local IP address:
#    - Windows: Open CMD and run "ipconfig"
#    - Mac: Open Terminal and run "ifconfig | grep inet"
#    - Linux: Open Terminal and run "hostname -I"
#
# 2. Update NEXT_PUBLIC_APP_URL and BETTER_AUTH_URL with your IP
#
# 3. Generate BETTER_AUTH_SECRET:
#    openssl rand -base64 32
#
# 4. Get API keys:
#    - Finnhub: https://finnhub.io/register
#    - Gemini: https://aistudio.google.com/app/apikey
#
# 5. Configure Gmail:
#    - Enable 2FA if not already enabled
#    - Generate App Password: https://myaccount.google.com/apppasswords
#
# 6. Start deployment:
#    docker compose up -d --build
#
# 7. (Optional) Start Inngest for email functionality:
#    npx inngest-cli@latest dev
#
# 8. Access your app:
#    http://YOUR_LOCAL_IP:3000
